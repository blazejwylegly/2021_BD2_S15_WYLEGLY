package pl.polsl.s15.library.domain.order;

import lombok.Getter;
import lombok.Setter;
import pl.polsl.s15.library.domain.Client;
import pl.polsl.s15.library.domain.orderable.Item;
import pl.polsl.s15.library.domain.strategy.AutoGeneratedId;

import javax.persistence.*;
import java.sql.Date;
import java.util.ArrayList;
import java.util.List;

@Getter
@Setter
@Entity(name = "Orders")
public class Order {

    @EmbeddedId
    private AutoGeneratedId id;

    private Date dateOfOrderSubmission;

    private OrderState orderState;

    private Integer isPrepared;

    @ManyToOne
    @JoinColumn(
            name = "ordering_client_id",
            referencedColumnName = "id",
            nullable = false
    )
    private Client orderingClient;

    @OneToMany(mappedBy = "order")
    private List<Item> orderItems = new ArrayList<>();

}
